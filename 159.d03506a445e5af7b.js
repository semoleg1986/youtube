"use strict";(self.webpackChunkyoutube_project=self.webpackChunkyoutube_project||[]).push([[159],{1759:(L,m,a)=>{a.d(m,{$$:()=>x,DQ:()=>E,Q$:()=>O,UQ:()=>R,oW:()=>b});var o=a(4221),v=a(2406),c=a(8710);const t=(0,o.ZF)(v.k),g=(0,o.ZF)(c.zH),l=(0,o.ZF)(c.zH),u=((0,o.ZF)(c.zH),r=>r.pagination),y=(0,o.P1)(t,r=>r),S=(0,o.P1)(g,r=>r.videos),R=(0,o.P1)(l,r=>r.favs),C=(0,o.P1)(y,S,(r,h)=>[...r,...h]),D=(0,o.P1)(u,r=>r.pageSize),O=(0,o.P1)(u,r=>r.currentPage),b=(0,o.P1)(C,D,O,(r,h,P)=>{const I=(P-1)*h;return r.slice(I,I+h)}),x=r=>(0,o.P1)(C,h=>h.find(P=>P.id===r)),E=(0,o.P1)(C,r=>r.length)},5039:(L,m,a)=>{a.d(m,{B:()=>c});var o=a(5879),v=a(6814);let c=(()=>{class t{static#t=this.\u0275fac=function(p){return new(p||t)};static#e=this.\u0275cmp=o.Xpm({type:t,selectors:[["app-statics"]],inputs:{item:"item"},decls:17,vars:5,consts:[[3,"ngClass"],["src","assets/statistic/viewed.svg","alt","viewed"],["src","assets/statistic/liked.svg","alt","viewed"],["src","assets/statistic/dislike.svg","alt","viewed"],["src","assets/statistic/copy.svg","alt","viewed"]],template:function(p,u){1&p&&(o.TgZ(0,"ul",0)(1,"li"),o._UZ(2,"img",1),o.TgZ(3,"span"),o._uU(4),o.qZA()(),o.TgZ(5,"li"),o._UZ(6,"img",2),o.TgZ(7,"span"),o._uU(8),o.qZA()(),o.TgZ(9,"li"),o._UZ(10,"img",3),o.TgZ(11,"span"),o._uU(12),o.qZA()(),o.TgZ(13,"li"),o._UZ(14,"img",4),o.TgZ(15,"span"),o._uU(16),o.qZA()()()),2&p&&(o.Q6J("ngClass","statistic"),o.xp6(4),o.Oqu(null==u.item.statistics?null:u.item.statistics.viewCount),o.xp6(4),o.Oqu(null==u.item.statistics?null:u.item.statistics.likeCount),o.xp6(4),o.Oqu(null==u.item.statistics?null:u.item.statistics.likeCount),o.xp6(4),o.Oqu(null==u.item.statistics?null:u.item.statistics.commentCount))},dependencies:[v.mk],styles:[".statistic[_ngcontent-%COMP%]{width:202px;height:13px;display:flex;justify-content:space-around;align-items:center;gap:5px;list-style:none}.statistic[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.statistic[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Roboto;font-size:10px;font-weight:400;line-height:12px;letter-spacing:0em;text-align:left}"]})}return t})()},6765:(L,m,a)=>{a.d(m,{h:()=>v});var o=a(5879);let v=(()=>{class c{constructor(g,l){this.el=g,this.renderer=l,this.RED_THRESHOLD=180,this.YELLOW_THRESHOLD=30,this.GREEN_THRESHOLD=7,this.RED_COLOR="#FF0000",this.YELLOW_COLOR="#FFFF00",this.GREEN_COLOR="#00FF00",this.DEFAULT_COLOR="#0000FF"}ngOnInit(){if(this.item){const g=new Date(this.item),p=((new Date).getTime()-g.getTime())/864e5;this.el.nativeElement.style.borderBottom=p>this.RED_THRESHOLD?`5px solid ${this.RED_COLOR}`:p>this.YELLOW_THRESHOLD&&p<=this.RED_THRESHOLD?`5px solid ${this.YELLOW_COLOR}`:p>this.GREEN_THRESHOLD&&p<=this.YELLOW_THRESHOLD?`5px solid ${this.GREEN_COLOR}`:`5px solid ${this.DEFAULT_COLOR}`}}static#t=this.\u0275fac=function(l){return new(l||c)(o.Y36(o.SBq),o.Y36(o.Qsj))};static#e=this.\u0275dir=o.lG2({type:c,selectors:[["","appBorderColor",""]],inputs:{item:["appBorderColor","item"]}})}return c})()},9159:(L,m,a)=>{a.r(m),a.d(m,{YoutubeModule:()=>G});var o=a(6814),v=a(6208),c=a(4087),t=a(5879),g=a(559),l=a(4221),p=a(1759),u=a(2070);let y=(()=>{class i{constructor(){this.currentPage=1}setCurrentPage(e){this.currentPage=e}getCurrentPage(){return this.currentPage}static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var S=a(5730),R=a(5415),C=a(8675),D=a(7671),O=a(3961),b=a(617),x=a(5195),E=a(5039),r=a(6765);function h(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"app-custom-button",8),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.deleteCards(n.videoItem.id))}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}2&i&&t.Q6J("ngClass","card-control")}function P(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"app-custom-button",8),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.toggleFavorites(n.videoItem))}),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA()()}if(2&i){const e=t.oxw(2);t.Q6J("ngClass","card-control"),t.xp6(2),t.Oqu(e.videoItem.favorite?"favorite":"favorite_border")}}function I(i,_){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-card",1),t._UZ(2,"img",2),t.TgZ(3,"div",3),t._UZ(4,"app-statics",4),t.TgZ(5,"mat-card-content",5),t._uU(6),t.qZA()(),t.TgZ(7,"app-custom-button",6),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.detailPageById(n.videoItem.id))}),t._uU(8,"more..."),t.qZA(),t.YNc(9,h,3,1,"app-custom-button",7),t.YNc(10,P,3,2,"app-custom-button",7),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("appBorderColor",e.videoItem.snippet.publishedAt),t.xp6(1),t.Q6J("src",e.videoItem.snippet.thumbnails.medium.url,t.LSH)("alt",e.videoItem.snippet.title),t.xp6(2),t.Q6J("item",e.videoItem),t.xp6(1),t.Q6J("ngClass","card-title"),t.xp6(1),t.Oqu(e.videoItem.snippet.title),t.xp6(1),t.Q6J("ngClass","card-button"),t.xp6(2),t.Q6J("ngIf",e.videoItem.custom),t.xp6(1),t.Q6J("ngIf",!e.videoItem.custom)}}let Z=(()=>{class i{constructor(e,s,n){this.pageService=e,this.router=s,this.store$=n,this.currentPage=0,this.store$.pipe((0,l.Ys)(p.Q$)).subscribe(d=>{this.currentPage=d})}detailPageById(e){this.pageService.setCurrentPage(this.currentPage),this.router.navigate(["youtube",e])}deleteCards(e){this.store$.dispatch(new D.f1({videoId:e}))}addToFavorites(e){this.store$.dispatch(new O.x6({videoId:e}))}removeFromFavorites(e){this.store$.dispatch(new O._R({videoId:e}))}toggleFavorites(e){const s=e.id;e.favorite?this.removeFromFavorites(s):this.addToFavorites(s)}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(y),t.Y36(c.F0),t.Y36(l.yh))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-search-item"]],inputs:{videoItem:"videoItem"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"appBorderColor"],["mat-card-image","",1,"card-img",3,"src","alt"],[1,"card-body"],[3,"item"],[3,"ngClass"],[3,"ngClass","click"],["size","control","type","button",3,"ngClass","click",4,"ngIf"],["size","control","type","button",3,"ngClass","click"]],template:function(s,n){1&s&&t.YNc(0,I,11,9,"ng-container",0),2&s&&t.Q6J("ngIf",n.videoItem)},dependencies:[o.mk,o.O5,C.x,b.Hw,x.a8,x.dn,x.G2,E.B,r.h],styles:[".mdc-card[_ngcontent-%COMP%]{margin:0;width:263px;height:327px;padding:20px;border-radius:5px;background-color:#e5e5e5;box-shadow:2px 2px 4px #00000040}.mdc-card[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{border-radius:0}.mdc-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin-top:20px;height:50px;font-size:20px;font-weight:700;line-height:23px;letter-spacing:0em;text-align:right;white-space:nowrap;overflow:hidden}.mdc-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding-top:20px;padding-left:11px}.mdc-card[_ngcontent-%COMP%]   .card-button[_ngcontent-%COMP%]{margin-top:30px;text-align:center}.mdc-card[_ngcontent-%COMP%]   .card-control[_ngcontent-%COMP%]{position:absolute;top:0rem;right:0rem}"]})}return i})(),w=(()=>{class i{constructor(){this.cachedResults=new Map}transform(e,s,n){const d=this.generateCacheKey(e,s,n);if(this.cachedResults.has(d))return this.cachedResults.get(d);const f=this.sort([...e],s,n);return this.cachedResults.has(d)||this.cachedResults.set(d,f),f}generateCacheKey(e,s,n){return JSON.stringify({value:e,currentField:s,currentOrder:n})}sort(e,s,n){return e.slice().sort((d,f)=>{const T=this.getSortingValue(d,s),M=this.getSortingValue(f,s);return"asc"===n?T-M:M-T})}getSortingValue(e,s){return"date"===s?e.snippet?.publishedAt?new Date(e.snippet.publishedAt).getTime():0:e.statistics&&e.statistics.viewCount?Number(e.statistics.viewCount):0}static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275pipe=t.Yjl({name:"sort",type:i,pure:!0})}return i})(),F=(()=>{class i{constructor(){this.filter=(e,s)=>{const n=s.toLowerCase(),d=[];for(const f of e)f.snippet.title.toLowerCase().includes(n)&&d.push(f);return d}}transform(e,s){return s?this.filter(e,s):e}static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275pipe=t.Yjl({name:"filter",type:i,pure:!0})}return i})();function A(i,_){1&i&&t._UZ(0,"app-search-item",3),2&i&&t.Q6J("videoItem",_.$implicit)}function H(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"app-custom-button",6),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.changePage(n.currentPage-1))}),t._uU(1," Previous "),t.qZA()}}function Y(i,_){if(1&i){const e=t.EpF();t.TgZ(0,"app-custom-button",6),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.changePage(n.currentPage+1))}),t._uU(1," Next "),t.qZA()}}function U(i,_){if(1&i&&(t.TgZ(0,"div",4),t.YNc(1,H,2,0,"app-custom-button",5),t.TgZ(2,"span"),t._uU(3),t.qZA(),t.YNc(4,Y,2,0,"app-custom-button",5),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.totalPages>0&&e.currentPage>1),t.xp6(2),t.hij("Page ",e.currentPage,""),t.xp6(1),t.Q6J("ngIf",e.currentPage<e.totalPages)}}let B=(()=>{class i{constructor(e,s,n,d){this.pageSevice=e,this.store$=s,this.sortService=n,this.filterService=d,this.filteredVideoList=[],this.currentPage=1,this.pageSize=20,this.lengthArray=0,this.totalPages=0,this.trackByTag=(f,T)=>T.id}ngOnInit(){this.currentPage=this.pageSevice.getCurrentPage(),this.store$.pipe((0,l.Ys)(p.DQ)).subscribe(e=>{this.lengthArray=e}),this.subscription$=this.store$.pipe((0,l.Ys)(p.oW)).subscribe(e=>{this.filteredVideoList=e,this.calculateTotalPages(this.lengthArray)})}changePage(e){this.currentPage=e,this.store$.dispatch(new u.Q_(this.currentPage))}changePageSize(e){this.pageSize=e,this.store$.dispatch(new u.ee(this.pageSize))}calculateTotalPages(e){this.totalPages=Math.ceil(e/this.pageSize)}ngOnDestroy(){this.subscription$&&!this.subscription$.closed&&this.subscription$.unsubscribe()}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(y),t.Y36(l.yh),t.Y36(S.K),t.Y36(R.i))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-search-results"]],decls:5,vars:10,consts:[[1,"cards"],[3,"videoItem",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination",4,"ngIf"],[3,"videoItem"],[1,"pagination"],["size","prev","type","button",3,"click",4,"ngIf"],["size","prev","type","button",3,"click"]],template:function(s,n){1&s&&(t.TgZ(0,"div",0),t.YNc(1,A,1,1,"app-search-item",1),t.ALo(2,"filter"),t.ALo(3,"sort"),t.qZA(),t.YNc(4,U,5,3,"div",2)),2&s&&(t.xp6(1),t.Q6J("ngForOf",t.xi3(2,3,t.Dn7(3,6,n.filteredVideoList,n.sortService.currentField,n.sortService.currentOrder),n.filterService.filterValue))("ngForTrackBy",n.trackByTag),t.xp6(3),t.Q6J("ngIf",n.totalPages>1))},dependencies:[o.sg,o.O5,C.x,Z,w,F],styles:[".cards[_ngcontent-%COMP%]{padding:0;margin:0;display:grid;grid-template-columns:repeat(auto-fit,minmax(264px,1fr));column-gap:27.33px;row-gap:31px;justify-items:center}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;margin-top:2rem}"]})}return i})(),J=(()=>{class i{constructor(e){this.service=e}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(g.J))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-main"]],decls:1,vars:0,template:function(s,n){1&s&&t._UZ(0,"app-search-results")},dependencies:[B]})}return i})(),Q=(()=>{class i{constructor(e,s){this.el=e,this.renderer=s,this.RED_THRESHOLD=180,this.YELLOW_THRESHOLD=30,this.GREEN_THRESHOLD=7,this.RED_COLOR="5px 10px 10px 0px rgba(255, 0, 0, 0.25)",this.YELLOW_COLOR="5px 10px 10px 0px rgba(255, 255, 0, 0.25)",this.GREEN_COLOR="5px 10px 10px 0px rgba(0, 255, 0, 0.25)",this.DEFAULT_COLOR="5px 10px 10px 0px rgba(0, 0, 255, 0.25)"}ngOnInit(){if(this.item){const e=new Date(this.item),n=((new Date).getTime()-e.getTime())/864e5;this.el.nativeElement.style.boxShadow=n>this.RED_THRESHOLD?this.RED_COLOR:n>this.YELLOW_THRESHOLD&&n<=this.RED_THRESHOLD?this.YELLOW_COLOR:n>this.GREEN_THRESHOLD&&n<=this.YELLOW_THRESHOLD?this.GREEN_COLOR:this.DEFAULT_COLOR}}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(t.SBq),t.Y36(t.Qsj))};static#e=this.\u0275dir=t.lG2({type:i,selectors:[["","appShadowColor",""]],inputs:{item:["appShadowColor","item"]}})}return i})();function $(i,_){if(1&i&&t._UZ(0,"app-statics",11),2&i){const e=t.oxw();t.Q6J("item",e.videoItem)}}const z=[{path:"",component:J,title:"Home Page"},{path:":id",component:(()=>{class i{constructor(e,s,n){this.route=e,this.router=s,this.store$=n,this.id=""}ngOnInit(){this.subscription=this.route.params.subscribe(e=>{this.id=e.id,this.store$.pipe((0,l.Ys)((0,p.$$)(this.id))).subscribe(s=>{this.videoItem=s}),this.videoItem||this.router.navigate(["not-found"])})}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(c.gz),t.Y36(c.F0),t.Y36(l.yh))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-detail"]],decls:21,vars:11,consts:[[1,"detail"],["size","tiny","routerLink","../.."],[1,"detail__icon"],[1,"detail__card",3,"appShadowColor"],[1,"detail__card-img"],[3,"src","alt"],[1,"detail__card-info",3,"appBorderColor"],[1,"detail__card-header"],[1,"detail__card-description"],[1,"detail__card-statistic"],[3,"item",4,"ngIf"],[3,"item"]],template:function(s,n){1&s&&(t.TgZ(0,"div",0)(1,"app-custom-button",1)(2,"mat-icon",2),t._uU(3,"arrow_back_ios_new"),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4),t._UZ(6,"img",5),t.qZA(),t.TgZ(7,"div",6)(8,"div",7)(9,"h1"),t._uU(10),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.ALo(13,"date"),t.qZA()(),t.TgZ(14,"div",8)(15,"h4"),t._uU(16,"Description:"),t.qZA(),t.TgZ(17,"p"),t._uU(18),t.qZA()(),t.TgZ(19,"div",9),t.YNc(20,$,1,1,"app-statics",10),t.qZA()()()()),2&s&&(t.xp6(4),t.Q6J("appShadowColor",(null==n.videoItem||null==n.videoItem.snippet?null:n.videoItem.snippet.publishedAt)||""),t.xp6(2),t.Q6J("src",null==n.videoItem||null==n.videoItem.snippet||null==n.videoItem.snippet.thumbnails||null==n.videoItem.snippet.thumbnails.standard?null:n.videoItem.snippet.thumbnails.standard.url,t.LSH)("alt",null==n.videoItem||null==n.videoItem.snippet?null:n.videoItem.snippet.title),t.xp6(1),t.Q6J("appBorderColor",(null==n.videoItem||null==n.videoItem.snippet?null:n.videoItem.snippet.publishedAt)||""),t.xp6(3),t.Oqu(null==n.videoItem||null==n.videoItem.snippet?null:n.videoItem.snippet.title),t.xp6(2),t.Oqu(t.xi3(13,8,null==n.videoItem||null==n.videoItem.snippet?null:n.videoItem.snippet.publishedAt,"fullDate")),t.xp6(6),t.Oqu(null==n.videoItem||null==n.videoItem.snippet?null:n.videoItem.snippet.description),t.xp6(2),t.Q6J("ngIf",n.videoItem))},dependencies:[o.O5,C.x,b.Hw,c.rH,E.B,r.h,Q,o.uU],styles:[".detail[_ngcontent-%COMP%]{margin:12px -10px;display:flex;align-items:flex-start}.detail__card[_ngcontent-%COMP%]{display:flex}.detail__card-img[_ngcontent-%COMP%]{display:flex;width:729px;height:461px;object-fit:contain}.detail__card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-bottom-left-radius:5px}.detail__card-info[_ngcontent-%COMP%]{width:436px;height:461px;padding:35px;background-color:#e5e5e5;border-top-right-radius:5px;border-bottom-right-radius:5px}.detail__card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:5px}.detail__card-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:220px;font-size:24px;font-weight:700;letter-spacing:0em;text-align:left;color:#4e4e4e}.detail__card-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:13px;font-size:10px;font-weight:400;line-height:12px;letter-spacing:0em;text-align:right;color:#828282}.detail__card-description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px}.detail__card-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{height:230px;text-align:left;margin-top:5px;color:#828282;overflow:auto}.detail__card-statistic[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center}"]})}return i})(),title:"Detail Page"}];let N=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(z),c.Bz]})}return i})();var W=a(1678);let G=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[o.ez,v.m,N,W.ZX]})}return i})()}}]);